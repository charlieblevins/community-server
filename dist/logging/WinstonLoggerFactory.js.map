{"version":3,"file":"WinstonLoggerFactory.js","sourceRoot":"","sources":["../../src/logging/WinstonLoggerFactory.ts"],"names":[],"mappings":";;;AAAA,qCAA2D;AAI3D,mDAAgD;AAEhD;;;;;GAKG;AACH,MAAa,oBAAoB;IAG/B,YAAmB,KAAa;QAC9B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAEM,YAAY,CAAC,KAAa;QAC/B,OAAO,IAAI,6BAAa,CAAC,sBAAY,CAAC;YACpC,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,MAAM,EAAE,gBAAM,CAAC,OAAO,CACpB,gBAAM,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,CAAC,EACvB,gBAAM,CAAC,QAAQ,EAAE,EACjB,gBAAM,CAAC,SAAS,EAAE,EAClB,gBAAM,CAAC,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,SAAS,EAAuB,EAAU,EAAE,CAC1G,GAAG,SAAS,KAAK,UAAU,KAAK,UAAU,KAAK,OAAO,EAAE,CAAC,CAC5D;YACD,UAAU,EAAE,IAAI,CAAC,gBAAgB,EAAE;SACpC,CAAC,CAAC,CAAC;IACN,CAAC;IAES,gBAAgB;QACxB,OAAO,CAAE,IAAI,oBAAU,CAAC,OAAO,EAAE,CAAE,CAAC;IACtC,CAAC;CACF;AAxBD,oDAwBC","sourcesContent":["import { createLogger, format, transports } from 'winston';\nimport type * as Transport from 'winston-transport';\nimport type { Logger } from './Logger';\nimport type { LoggerFactory } from './LoggerFactory';\nimport { WinstonLogger } from './WinstonLogger';\n\n/**\n * Uses the winston library to create loggers for the given logging level.\n * By default, it will print to the console with colorized logging levels.\n *\n * This creates instances of {@link WinstonLogger}.\n */\nexport class WinstonLoggerFactory implements LoggerFactory {\n  private readonly level: string;\n\n  public constructor(level: string) {\n    this.level = level;\n  }\n\n  public createLogger(label: string): Logger {\n    return new WinstonLogger(createLogger({\n      level: this.level,\n      format: format.combine(\n        format.label({ label }),\n        format.colorize(),\n        format.timestamp(),\n        format.printf(({ level: levelInner, message, label: labelInner, timestamp }: Record<string, any>): string =>\n          `${timestamp} [${labelInner}] ${levelInner}: ${message}`),\n      ),\n      transports: this.createTransports(),\n    }));\n  }\n\n  protected createTransports(): Transport[] {\n    return [ new transports.Console() ];\n  }\n}\n"]}